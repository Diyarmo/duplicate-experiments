SRC_TO_DEST_DICT = {"\ufb8b": "\u0698", "\u0691": "\u0631", "\ufea2": "\u062d", "\u076a": "\u0644", "\ufb9e": "\u0646", "\ufea4": "\u062d", "\ufee7": "\u0646", "\ufed5": "\u0642", "\ufeac": "\u0630", "\ufeed": "\u0648", "\ufea5": "\u062e", "\u0751": "\u062b", "\u0622": "\u0622", "\ufe96": "\u062a", "\u0765": "\u0645", "\ufea1": "\u062d", "\ufb68": "\u062a", "\ufbaf": "\u06cc", "\u06c7": "\u0648", "\u0678": "\u06cc", "\u0675": "\u0627", "\u08aa": "\u0631", "\ufea9": "\u062f", "\ufba9": "\u0647", "\u06a3": "\u0641", "\u06c2": "\u0647", "\u06a6": "\u0641", "\ufec9": "\u0639", "\ufb7c": "\u0686", "\u06d2": "\u06cc", "\u0660": "0", "\ufee9": "\u0647", "\ufecf": "\u063a", "\ufbad": "\u0647", "\ufed3": "\u0641", "\ufb50": "\u0627", "\ufefc": "\u0644\u0627", "\ufed2": "\u0641", "\ufebe": "\u0636", "\ufd81": "\u0644\u062d\u06cc", "\u069d": "\u0635", "\u0767": "\u0646", "\u0687": "\u0686", "\ufec0": "\u0636", "\u0690": "\u0630", "\ufe84": "\u0627", "\u0681": "\u062e", "\u06c8": "\u0648", "\ufe8c": "\u06cc", "\ufe95": "\u062a", "\u068c": "\u0630", "\ufe93": "\u0647", "\ufef1": "\u06cc", "\ufbac": "\u0647", "\u06ab": "\u06a9", "\u06a4": "\u0641", "\ufe9d": "\u062c", "\u075c": "\u0634", "\u0697": "\u0632", "\ufee0": "\u0644", "\u0769": "\u0646", "\ufe98": "\u062a", "\u06cd": "\u062a", "\ufb8f": "\u06a9", "\ufeea": "\u0647", "\u06a8": "\u0642", "\u0668": "8", "\ufec8": "\u0638", "\ufef2": "\u06cc", "\ufede": "\u0644", "\ufedc": "\u06a9", "\ufbaa": "\u0647", "\ufbae": "\u06cc", "\ufe89": "\u06cc", "\ufecd": "\u063a", "\u06a2": "\u0641", "\ufb7f": "\u0686", "\ufe83": "\u0627", "\u0758": "\u0686", "\ufedf": "\u0644", "\ufec6": "\u0638", "\u0754": "\u067e", "\u069b": "\u0633", "\u06fa": "\u0634", "\u0695": "\u0631", "\u0764": "\u06a9", "\ufe8a": "\u06cc", "\u0673": "\u0627", "\u068a": "\u062f", "\u06b8": "\u0644", "\u067f": "\u062a", "\u0689": "\u062f", "\ufbb1": "\u06cc", "\u068d": "\u062f", "\ufeeb": "\u0647", "\ufe86": "\u0648", "\ufe8e": "\u0627", "\ufef0": "\u06cc", "\ufed1": "\u0641", "\u06c5": "\u0648", "\u0677": "\u0648", "\ufeb2": "\u0633", "\ufeaf": "\u0632", "\ufb60": "\u062a", "\u0750": "\u067e", "\ufee6": "\u0646", "\u06cf": "\u0648", "\ufe81": "\u0622", "\u067d": "\u062b", "\u0752": "\u067e", "\ufeee": "\u0648", "\ufef9": "\u0644\u0627", "\u06cb": "\u0648", "\u067a": "\u062a", "\ufb56": "\u067e", "\ufea6": "\u062e", "\u0626": "\u06cc", "\ufb7d": "\u0686", "\u067c": "\u062a", "\ufebd": "\u0636", "\ufb90": "\u06a9", "\ufe97": "\u062a", "\ufbe7": "\u06cc", "\ufef7": "\u0644\u0627", "\u06aa": "\u06a9", "\ufb8a": "\u0698", "\u06c6": "\u0648", "\ufed4": "\u0641", "\ufeb4": "\u0633", "\u0663": "3", "\u0679": "\u062a", "\u06b0": "\u06af", "\u06ef": "\u0698", "\ufba7": "\u0647", "\u0680": "\u067e", "\u0666": "6", "\ufed0": "\u063a", "\ufeca": "\u0639", "\u06b4": "\u06af", "\u06b3": "\u06af", "\ufb93": "\u06af", "\ufeef": "\u06cc", "\u0766": "\u0645", "\ufb7b": "\u0686", "\u066f": "\u0648", "\u075f": "\u063a", "\ufeae": "\u0631", "\u0780": "\u0631", "\ufb92": "\u06af", "\u0683": "\u0686", "\ufe87": "\u0627", "\u06c9": "\u0648", "\u0694": "\u0631", "\ufeb6": "\u0634", "\ufbfc": "\u06cc", "\ufecc": "\u0639", "\ufeba": "\u0635", "\ufec3": "\u0637", "\u068b": "\u062f", "\ufec2": "\u0637", "\ufba5": "\u0647", "\u0699": "\u0698", "\u05d8": "\u0646", "\u05e0": "\u062f", "\u0753": "\u062a", "\u0672": "\u0627", "\ufec4": "\u0637", "\u076d": "\u0634", "\u06ce": "\u06cc", "\ufebb": "\u0636", "\u06d3": "\u06cc\u06cc", "\u05d1": "\u062f", "\ufb89": "\u062f", "\ufeec": "\u0647", "\u0661": "1", "\u069a": "\u0633", "\u06d5": "\u0647", "\ufebf": "\u0636", "\ufe82": "\u0627", "\ufe99": "\u062b", "\u0671": "\u0627", "\ufedd": "\u0644", "\u069c": "\u0634", "\u06e6": "\u06cc", "\u0763": "\u06a9", "\u0624": "\u0648", "\ufb59": "\u067e", "\u068e": "\u0698", "\ufeaa": "\u062f", "\u06b7": "\u0644", "\u06ad": "\u06a9", "\ufef4": "\u06cc", "\ufdf2": "\u0644\u0644\u0647", "\ufee5": "\u0646", "\u0757": "\u062d", "\u06d0": "\u06cc", "\ufec7": "\u0638", "\ufba6": "\u0647", "\ufe8b": "\u06cc", "\u06bc": "\u0646", "\u06b6": "\u0644", "\ufb81": "\u0686", "\ufeb1": "\u0633", "\ufb57": "\u067e", "\u0762": "\u06a9", "\ufb91": "\u06a9", "\u06a5": "\u0641", "\u075e": "\u063a", "\u06fb": "\u0636", "\u075d": "\u063a", "\ufebc": "\u0635", "\ufeb0": "\u0632", "\ufb8e": "\u06a9", "\ufe85": "\u0648", "\ufeb8": "\u0634", "\ufea0": "\u062c", "\ufecb": "\u0639", "\ufe8f": "\u0628", "\ufef3": "\u06cc", "\u06c4": "\u0648", "\ufe9c": "\u062b", "\u0669": "9", "\u0662": "2", "\u0667": "7", "\ufb77": "\u062d", "\u06b9": "\u0646", "\ufe9f": "\u062c", "\ufe9e": "\u062c", "\u076b": "\u0631", "\u060b": "\u0641", "\u069e": "\u0635", "\ufe8d": "\u0627", "\ufeb7": "\u0634", "\ufe9a": "\u062b", "\ufe88": "\u0627", "\ufb69": "\u0637", "\ufece": "\u063a", "\ufef8": "\u0644\u0627", "\ufeb5": "\u0634", "\ufee2": "\u0645", "\u06ac": "\u06a9", "\u06c0": "\u0647", "\u066e": "\u0628", "\u069f": "\u0637", "\u06bd": "\u0646", "\ufeb9": "\u0635", "\u06ae": "\u06a9", "\u0682": "\u062d", "\ufef6": "\u0644\u0627", "\u06b5": "\u0644", "\ufefb": "\u0644\u0627", "\ufb7a": "\u0686", "\u0755": "\u0628", "\ufb95": "\u06af", "\u06bf": "\u0686", "\u0685": "\u062d", "\ufee3": "\u0645", "\ufec5": "\u0638", "\ufea7": "\u062e", "\ufed8": "\u0642", "\ufbff": "\u06cc", "\u06ca": "\u0642", "\u06b2": "\u06af", "\ufee1": "\u0645", "\u06a0": "\u0639", "\u06bb": "\u0646", "\ufee8": "\u0646", "\ufeab": "\u0630", "\u0676": "\u0648", "\u06a7": "\u0642", "\ufb58": "\u067e", "\u0696": "\u0631", "\ufedb": "\u06a9", "\u06d1": "\u06cc", "\ufea3": "\u062d", "\u06ba": "\u0646", "\ufdfc": "\u0631\u06cc\u0627\u0644", "\u05e2": "\u0644\u0627", "\u0664": "4", "\u06a1": "\u0641", "\u0788": "\u0648", "\u06c3": "\u0647", "\ufbfd": "\u06cc", "\u067b": "\u0628", "\ufee4": "\u0645", "\ufea8": "\u062e", "\ufef5": "\u0644\u0627", "\ufeb3": "\u0633", "\ufed7": "\u0641", "\ufe92": "\u0628", "\u06c1": "\u0647", "\ufead": "\u0631", "\ufeda": "\u06a9", "\ufbfe": "\u06cc", "\u06ff": "\u0647", "\ufed9": "\u06a9", "\ufb94": "\u06af", "\u06b1": "\u06af", "\ufe91": "\u0628", "\u0684": "\u062d", "\u0688": "\u062f", "\u0692": "\u0631", "\ufe94": "\u062a", "\u068f": "\u062f", "\ufe9b": "\u062b", "\u0693": "\u0631", "\u06fc": "\u063a", "\ufec1": "\u0637", "\ufed6": "\u0642", "\ufe90": "\u0628", "\u064a": "\u06cc", "\u0643": "\u06a9", "\u0629": "\u062a", "\u06e3": "\u0633", "\u0656": "\u0627", "\u060f": "\u0639", "\u0623": "\u0627", "\u0625": "\u0627", "\u075b": "\u0631", "\u08a5": "\u0642", "\u08a7": "\u0645", "\ufbab": "\u0647", "\u06be": "\u0647", "\u06e5": "\u0648", "\u08ab": "\u0648", "\u0649": "\u06cc", "\u24ff": "0", "\u24eb": "11", "\u24ec": "12", "\u24ed": "13", "\u24ee": "14", "\u24ef": "15", "\u24f0": "16", "\u24f1": "17", "\u24f2": "18", "\u24f3": "19", "\u24f4": "20", "\u24f5": "1", "\u24f6": "2", "\u24f7": "3", "\u24f8": "4", "\u24f9": "5", "\u24fa": "6", "\u24fb": "7", "\u24fc": "8", "\u24fd": "9", "\u24fe": "10", "\u3007": "0", "\u2070": "0", "\uff10": "0", "\uff11": "1", "\uff12": "2", "\uff13": "3", "\uff14": "4", "\uff15": "5", "\uff16": "6", "\uff17": "7", "\uff18": "8", "\uff19": "9", "\u2080": "0", "\u24ea": "0", "\u2461": "2", "\u2460": "1", "\u2462": "3", "\u2463": "4", "\u2464": "5", "\u2465": "6", "\u2466": "7", "\u2467": "8", "\u2468": "9", "\u2469": "10", "\u246a": "11", "\u246b": "12", "\u246c": "13", "\u246d": "14", "\u246e": "15", "\u246f": "16", "\u2470": "17", "\u2471": "18", "\u2472": "19", "\u2473": "20", "\u2776": "1", "\u2777": "2", "\u2778": "3", "\u2779": "4", "\u277a": "5", "\u277b": "6", "\u277c": "7", "\u277d": "8", "\u277e": "9", "\u277f": "10", "\u2780": "1", "\u2781": "2", "\u2782": "3", "\u2783": "4", "\u2784": "5", "\u2785": "6", "\u2786": "7", "\u2787": "8", "\u2788": "9", "\u2789": "10", "\u278a": "1", "\u278b": "2", "\u278c": "3", "\u278d": "4", "\u278e": "5", "\u278f": "6", "\u2790": "7", "\u2791": "8", "\u2792": "9", "\u2793": "10", "\u00b9": "1", "\u2081": "1", "\u00b2": "2", "\u2082": "2", "\u2489": "2", "\u3248": "10", "\u3249": "20", "\u324a": "30", "\u324b": "40", "\u324c": "50", "\u324d": "60", "\u324e": "70", "\u324f": "80", "\u00b3": "3", "\u248a": "3", "\u2074": "4", "\u2075": "5", "\u2085": "5", "\u2076": "6", "\u2079": "9", "\u24b6": "a", "\u24b7": "b", "\u24b8": "c", "\u24b9": "d", "\u24ba": "e", "\u24bb": "f", "\u24bc": "g", "\u24bd": "h", "\u24be": "i", "\u24bf": "j", "\u24c0": "k", "\u24c1": "l", "\u24c2": "m", "\u24c3": "n", "\u24c4": "o", "\u24c5": "p", "\u24c6": "q", "\u24c7": "r", "\u24c8": "s", "\u24c9": "t", "\u24ca": "u", "\u24cb": "v", "\u24cc": "w", "\u24cd": "x", "\u24ce": "y", "\u24cf": "z", "\u00c0": "a", "\u00c1": "a", "\u00c2": "a", "\u00c3": "a", "\u00c4": "a", "\u00c5": "a", "\u00c8": "e", "\u00c9": "e", "\u00ca": "e", "\u00cb": "e", "\u00cc": "i", "\u00cd": "i", "\u00ce": "i", "\u00cf": "i", "\u00d0": "d", "\u00d1": "n", "\u00d2": "o", "\u00d3": "o", "\u00d4": "o", "\u00d5": "o", "\u00d6": "o", "\u00d9": "u", "\u00da": "u", "\u00db": "u", "\u00dc": "u", "\u00dd": "y", "\u00e0": "a", "\u00e1": "a", "\u00e2": "a", "\u00e3": "a", "\u00e4": "a", "\u00e5": "a", "\u00e8": "e", "\u00e9": "e", "\u00ea": "e", "\u00eb": "e", "\u00ef": "i", "\u00f1": "n", "\u00f2": "o", "\u00f3": "o", "\u00f4": "o", "\u00f5": "o", "\u00f6": "o", "\u00f9": "u", "\u00fa": "u", "\u00fb": "u", "\u00fc": "u", "\u00fd": "y", "\u00ff": "y", "\u0100": "a", "\u0101": "a", "\u0102": "a", "\u13a0": "d", "\u13a1": "r", "\u13a2": "t", "\u13a5": "i", "\u13aa": "a", "\u13ab": "j", "\u13ac": "e", "\u13b3": "w", "\u13c6": "i", "\u13da": "s", "\u13e2": "p", "\u13e9": "g", "\u13b7": "m", "\u13bb": "h", "\u13c0": "g", "\u13c2": "h", "\u13c3": "z", "\u13d2": "r", "\u13d4": "w", "\u13d9": "v", "\u13de": "l", "\u13df": "c", "\u13e4": "v", "\u13e6": "k", "\u13f4": "b", "\u1e01": "a", "\u1d00": "a", "\u0251": "a", "\u24d1": "b", "\uff43": "c", "\u24d2": "c", "\u0107": "c", "\u00e7": "c", "\u00c7": "c", "\u24d3": "d", "\u24d4": "e", "\u1e1f": "f", "\u0192": "f", "\uff47": "g", "\uff27": "g", "\u011f": "g", "\u011e": "g", "\u011c": "g", "\u0123": "g", "\u0122": "g", "\u24d7": "h", "\u0125": "h", "\u2139": "i", "\u24d8": "i", "\u029d": "j", "\u0284": "f", "\u24da": "k", "\u1e33": "k", "\u1d0b": "k", "\u2113": "l", "\u24db": "l", "\u013a": "l", "\u0139": "l", "\u013e": "l", "\u013d": "l", "\u0141": "l", "\u0142": "l", "\u029f": "l", "\u2133": "m", "\u24dc": "m", "\u1d0d": "m", "\u24dd": "n", "\u0147": "n", "\u0274": "n", "\u014a": "n", "\u00ba": "o", "\u24de": "o", "\u24df": "p", "\u24e1": "r", "\u0155": "r", "\u0154": "r", "\u0159": "r", "\u1e5d": "r", "\u24e2": "s", "\u015b": "s", "\u0161": "s", "\u1e67": "s", "\u015f": "s", "\u015e": "s", "\u24e3": "t", "\u0165": "t", "\u01b0": "u", "\uff58": "x", "\u028f": "y", "\u24e9": "z", "\u017a": "z", "\u0410": "a", "\u0412": "b", "\u0432": "b", "\u0435": "e", "\u0455": "s", "\u043a": "k", "\u041a": "k", "\u043c": "m", "\u041c": "m", "\u043e": "o", "\u0440": "p", "\u0441": "c", "\u0422": "t", "\u0445": "x", "\u0400": "e", "\u0401": "e", "\u0405": "s", "\u0406": "i", "\u0407": "i", "\u0408": "j", "\u040c": "k", "\u040e": "y", "\u0415": "e", "\u041d": "h", "\u041e": "o", "\u0420": "p", "\u0421": "c", "\u0423": "y", "\u0425": "x", "\u0430": "a", "\u043d": "h", "\u0442": "t", "\u0443": "y", "\u0290": "z", "\u1d22": "z", "\u017e": "z", "\u1e91": "z", "\u24e8": "y", "\u24e7": "x", "\u0174": "w", "\u016d": "u", "\u0167": "t", "\u0166": "t", "\u021b": "t", "\u0163": "t", "\u0164": "t", "\u0282": "s", "\u0280": "r", "\u1e8f": "y", "\u24e5": "v", "\u016b": "u", "\u24e4": "u", "\u01ae": "t", "\ufb51": "\u0627", "\ufe80": "\u0621", "\u06da": "\u062c", "\u06e2": "\u0645", "\u00b7": ".", "\u0387": ".", "\u2796": "-", "\u2014": "-", "\u2013": "-", "\u0336": "-", "\u268a": "_", "\u2212": "-", "\u00af": "-", "\u207b": "-", "\u30fc": "-", "\u0304": "-", "\u2011": "-", "\u2010": "-", "\u035f": "_", "\uff3f": "_", "\u066d": "*", "\u02df": "\u00d7", "\uff1a": ":", "\ufd3f": ")", "\u3011": ")", "\uff09": ")", "\u3015": ")", "\ufd3e": "(", "\u3010": "(", "\uff08": "(", "\u3014": "(", "\u0337": "/", "\u060d": "/", "\u2044": "/", "\uff0b": "+", "\u2795": "+", "\uff1d": "=", "\u3013": "=", "\u268c": "=", "\u266f": "#", "\u2757": "!", "\u203c": "!", "\u2755": "!", "\u00a1": "!", "%": "\u066a", "\u203a": "\u00bb", "\u27eb": "\u00bb", "\u300b": "\u00bb", "\uff1b": "\u061b", "\u2039": "\u00ab", "\u300a": "\u00ab", "\u02dd": "\"", "\u2033": "\"", "\u2019": "'", "\u2018": "'", "\u02b9": "'", "`": "'", "\u02dc": "~", "\uff5e": "~", "\u223c": "~", "\u2797": "\u00f7", "\u2754": "\u061f", "\u2753": "\u061f", "\u00bf": "\u061f", "?": "\u061f", "\u066c": "\u060c", "\uff0c": "\u060c", "\u201a": "\u060c", "\u0375": "\u060c", ",": "\u060c"}

PERSIAN_PREPOSITIONS = ["به سان", "ارتباطی", "از", "ازان", "ازبین", "ازقبیل", "اطراف", "الی", "اندر", "اندرون", "ایدر", "با", "بابت", "بالای", "بدون", "بر", "برا", "برابر", "براثر", "برای", "برروی", "برعلیه", "برله", "برون", "بسان", "بغل", "بـر", "بـرای", "بــرای", "بــه", "بمانند", "به", "به جای", "به جهت", "به خاطر", "به دنبال", "به زعم", "به سان", "به مانند", "به مثابه", "به مثابه ی", "به مثابهٌ", "بهر", "بوسیلة", "بی", "بیرون", "بین", "تا", "تحت", "تعامل", "تمدنی", "ته", "تو", "توسط", "توسّط", "توی", "ث", "جلو", "جلوی", "جنب", "جهت", "جوار", "جوف", "حول", "خارج", "خلاف", "داخل", "در", "در باره", "دراثر", "دربارة", "درباره", "درباره ی", "درباره ‏ی", "دربارهٌ", "دربرابر", "درخلال", "درروی", "درزمینه", "درطول", "درقبال", "درنزد", "درون", "درپس", "درپی", "درپیش", "درکنار", "دم", "دنبال", "دور", "دورتادور", "دوروبر", "ذیل", "راجع به", "رو", "روبرو", "روبروی", "روبه روی", "رودررو", "رودرروی", "رودروی", "روی", "رویاروی", "ز", "زی", "زیر", "زیرو روی", "سر", "سن", "صورتحساب", "ضمن", "طی", "عقب", "علیه", "فاقد", "فراخور", "فراراه", "فراروی", "فراسوی", "فراپیش", "فی مابین", "فیمابین", "لای", "لب", "لغایت", "له", "مابین", "مادون", "مافوق", "ماقبل", "ماوراء", "ماورای", "محاذی", "محض", "مقابل", "من حیث", "میان", "میون", "نبش", "نزد", "نزدیک", "هم چون", "همانند", "وارد", "واسه", "واسه ی", "واسهٌ", "وراء", "ورای", "وسط", "پائین", "پایین", "پشت", "په", "پهلوی", "پی", "پیرامون", "پیش", "پیش از", "پیشاپیش", "پیشٍ", "کرا", "کنار", "کنارٍ", "و", "را"]

EN_EXTRACT_REGEX = u'([a-zA-Z]+)'
FA_EXTRACT_REGEX = u'([\u0621-\u06CC\u0698\u067E\u0686\u06AF]+)'
NUM_EXTRACT_REGEX = u'([0-9]+)'
VALID_CHARS_AGGR_REGEX = '(' + EN_EXTRACT_REGEX + NUM_EXTRACT_REGEX + '|' + FA_EXTRACT_REGEX + ')'

digits = [
    '\u0660',  # Arabic digits
    '\u0661',
    '\u0662',
    '\u0663',
    '\u0664',
    '\u0665',
    '\u0666',
    '\u0667',
    '\u0668',
    '\u0669',
    '\u06F0',  # Farsi digits
    '\u06F1',
    '\u06F2',
    '\u06F3',
    '\u06F4',
    '\u06F5',
    '\u06F6',
    '\u06F7',
    '\u06F8',
    '\u06F9',
    '0',  # English digits
    '1',
    '2',
    '3',
    '4',
    '5',
    '6',
    '7',
    '8',
    '9']

digit_words = [r'\bیک\b', r'\bیه\b', r'\bدو\b', r'دو', r'\bسه\b',
               r'\bچهار\b', r'\bپنج\b', r'\bپنچ\b', r'\bشش\b',
               r'\bشیش\b', r'\bهفت\b', r'\bهشت\b', r'\bنه\b',
               r'\bده\b', r'ده\b', r'یازده', r'دوازده', r'سیزده',
               r'سینزده', r'چهارده', r'پانزده', r'پونزده',
               r'شانزده', r'شونزده', r'هفتده', r'هفده',
               r'هجده', r'نوزده', r'بیست', r'\bسی\b',
               r'\bچهل\b', r'پنجاه', r'پنجا', r'\bشصت\b',
               r'\bشست\b', r'هفتاد', r'هشتاد', r'\bنود\b',
               r'\bصد\b', r'یکصد', r'دویست', r'سیصد', r'چهارصد',
               r'پانصد', r'پونصد', r'ششصد', r'شیشصد', r'هفصد',
               r'هفتصد', r'هشصد', r'هشتصد', r'نهصد',
               r'هزار', r'میلیون', r'ملیون', r'میلون',
               r'ملییون', r'میلیارد', r'ملیارد', r'\bنیم\b'
               ]
other_digit_words = [
    'اول',
    'دوم',
    'سوم',
    'چهارم',
    'چهاردهم',
    'چارم',
    'پنچم',
    'ششم',
    'هفتم',
    'هشتم',
    'شیشم',
    'نهم',
    'دهم',
    'دوازدهم',
    'یازدهم',
    'سیزدهم']

digit_words += other_digit_words

